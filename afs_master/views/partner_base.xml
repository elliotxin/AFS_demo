<odoo>
    <record id="view_partner_base_form" model="ir.ui.view">
        <field name="name">AFS partner base form</field>
        <field name="model">res.partner</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <data>

                <xpath expr="//group/group[2]/field[@name='function']" position="replace">
                    <field name="function" attrs="{'invisible': ['|', ('is_company','=', True), ('aec_contact_type', '!=', 'b2b')]}"/>
                    <field name="gender" attrs="{'invisible': [('is_company','=', True)]}"/>
                </xpath>

                <notebook position="before">
                    <group name="contact_only_info" attrs="{'invisible': [('aec_contact_type', '!=', 'b2c')]}">
                        <group>
                            <field name="civil_status"/>
                            <field name="nationality"/>
                            <field name="profession"/>
                            <field name="mother_tongue"/>
                        </group>
                        <group>
                            <field name="academic_level"/>
                            <field name="academic_establishment"/>
                            <field name="birthday"/>
                            <field name="birth_country"/>
                        </group>
                    </group>
                </notebook>

                <field name="vat" position="replace">
                    <field name="vat" placeholder="e.g. BE0477472701" attrs="{'readonly': [('parent_id','!=',False)],
                                                                              'invisible': [('is_company','=', False)]}"/>
                </field>

                <field name="lang" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>

                <field name="website" position="replace">
                    <field name="website" widget="url" placeholder="e.g. www.odoo.com" attrs="{'invisible': [('is_company','=', False)]}"/>
                </field>

                <field name="title" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>

                <field name="category_id" position="before">
                    <field name="company_type" attrs="{'invisible': [('aec_contact_type', '!=', 'b2b')]}"/>
                    <field name="industry" attrs="{'invisible': [('aec_contact_type', '!=', 'b2b')]}"/>
                </field>

                <notebook position="inside">
                    <page name="arc_en_ciel" string="Arc En Ciel Config" groups="base.group_no_one">
                        <group>
                            <group>
                                <field name="aec_contact_type" groups="base.group_no_one"/>
                                <field name="aec_ID"/>
                            </group>
                        </group>
                    </page>
                </notebook>

            </data>
        </field>
    </record>

    <record id="view_res_partner_filter" model="ir.ui.view">
        <field name="name">afs search</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">
            <data>
                <field name="name" position="after">
                    <filter name="afs_contact" string="Contact" domain="[('aec_contact_type', '=', 'b2c')]"/>
                    <filter name="afs_corporate" string="Corporate" domain="[('aec_contact_type', '=', 'b2b')]"/>
                    <filter name="afs_teacher" string="Teachers" domain="[('aec_contact_type', '=', 'teach')]"/>
                </field>
            </data>
        </field>
    </record>


</odoo>